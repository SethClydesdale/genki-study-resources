!function(e,n){"use strict";n.body.className="helper-"+(storageOK&&"false"==localStorage.furiganaVisible?"hidden":"present"),e.GRIndex={toggle:function(e,t){var a=n.getElementById("exercises-"+t);/Show/.test(e.innerHTML)?(a.style.display="block",e.innerHTML=e.innerHTML.replace("Show","Hide").replace("表示","非表示")):(a.style.display="",e.innerHTML=e.innerHTML.replace("Hide","Show").replace("非表示","表示"))},toggleAll:function(e){var t=/Show/.test(e.innerHTML)?"show":"hide";GRIndex.buttons||(GRIndex.buttons=n.querySelectorAll(".grammar-toggler"));for(var a=0,r=GRIndex.buttons.length;a<r;a++)"show"==t&&/Show/.test(GRIndex.buttons[a].innerHTML)?GRIndex.buttons[a].click():"hide"==t&&/Hide/.test(GRIndex.buttons[a].innerHTML)&&GRIndex.buttons[a].click();e.innerHTML="show"==t?e.innerHTML.replace("Show","Hide").replace("表示","非表示"):e.innerHTML.replace("Hide","Show").replace("非表示","表示")},jump:function(){if(/l\d+-p\d+|lesson-grammar-\d+/.test(e.location.hash)){var t=/lesson-grammar-\d+/.test(e.location.hash),a=t?e.location.hash.replace(/.*?lesson-grammar-(\d+).*?/,"$1"):e.location.hash.replace(/.*?l(\d+)-p\d+.*?/,"$1"),r=e.location.hash.replace(/.*?l\d+-p(\d+).*?/,"$1"),o=n.getElementById("toggler-"+a);if(/Show/.test(o.innerHTML)){o.click();try{n.getElementById(t?"lesson-grammar-"+a:"l"+a+"-p"+r).scrollIntoView()}catch(n){e.location.hash="#",e.location.hash=t?"#lesson-grammar-"+a:"#l"+a+"-p"+r}}}}},n.addEventListener("click",function(n){for(var t=n.target;"A"!=t.tagName&&t.parentNode&&"BODY"!=t.parentNode.tagName;)t=t.parentNode;t&&t.href&&/l\d+-p\d+|lesson-grammar-\d+/.test(t.href)&&e.setTimeout(GRIndex.jump,50)})}(window,document);