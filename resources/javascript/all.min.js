!function(e,t){"use strict";if(storageOK&&"3rd"==localStorage.GenkiEdition&&/\/privacy\/|\/report\/|\/help\/|\/donate\/|\/download\//.test(e.location.pathname)&&(t.getElementById("home-link").href+="lessons-3rd/",t.getElementById("footer-home").href+="lessons-3rd/"),t.getElementById("announcement")){e.GenkiAnn={rotation:!1,edition:/lessons-3rd/.test(e.location.pathname)?"3rd":"2nd",msg:[{date:"6/6/25",content:'Quartet Study Resources is now available! <a href="https://ko-fi.com/post/Quartet-Study-Resources-is-Now-Available-Y8Y61G3093" target="_blank">Click here</a> to learn more about this new Japanese practice website.'},{date:"5/22/25",content:'From today on, I will be streaming the development progress of Quartet Study Resources on Twitch each day to share the process of building these websites. <a href="https://ko-fi.com/post/About-Development-Streams-Z8Z61FDRV3" target="_blank">Click here</a> for more information, such as my schedule.'},{date:"5/13/25",content:'You can now choose what exercises you want to practice for the Random Exercise Button via the settings manager! <a href="https://ko-fi.com/post/New-Custom-Random-Exercise-Range-for-GenkiTobira-U6U41EXQ3G" target="_blank">Click here</a> to learn more about this new setting.'},{date:"5/9/25",content:'You can now change the interface language of the website to 日本語 via the settings manager! <a href="https://ko-fi.com/post/New-Language-Option-for-GenkiTobira-A0A41EQV3C" target="_blank">Click here</a> to learn more about this new setting.'},{date:"4/8/25",content:'The Genki <a href="https://ko-fi.com/post/The-Genki-Grammar-Index-is-now-Complete-U7U01D73DJ" target="_blank">Grammar Index</a> is now complete! If you notice any typos or have any suggestions, please don\'t hesitate to let us know on GitHub. Happy Studying!'},{date:"2/10/25",content:'You can now change the main theme color to the Genki II color scheme via the settings manager! <a href="https://ko-fi.com/post/New-Theme-Option-for-Genki-Study-Resources-L3L21ADWSN" target="_blank">Click here</a> to learn more about this new setting.'},{date:"1/15/25",content:'Happy New Year! With the new year, comes new projects! <a href="https://ko-fi.com/post/Plans-for-2025-C0C2192FBX" target="_blank">Click here</a> to learn about what I have planned for 2025.'},{date:"12/14/24",content:'I\'ve been slowly rolling out ads on my website recently. They\'re optional for this project, however, so please <a href="https://ko-fi.com/post/Statement-Regarding-Ads-V7V717GGS6" target="_blank">click here</a> to learn more about this update.'},{date:"10/26/24",content:'<a href="https://ko-fi.com/post/GenkiTobira-Recent-Updates-Future-Plans-Z8Z6158OWB" target="_blank">Click here</a> to learn about the recent updates made to the website as well as my future plans.'},{content:'Interested in learning Japanese? Check out <a href="'+getPaths()+'help/japanese-guide/">our guide</a> for more information on how to learn the language, as well as useful tools that you can utilize in your studies!'},{edition:"2nd",content:'Looking for more self-study resources? Visit the official <a href="http://genki.japantimes.co.jp/self_en">self-study room</a> for Genki or check out some of the resources in the <a href="https://github.com/SethClydesdale/genki-study-resources#resources-for-studying-japanese">readme</a> on GitHub.'},{edition:"3rd",content:'Looking for more self-study resources? Visit the official <a href="https://genki3.japantimes.co.jp/en/student/">self-study room</a> for Genki or check out some of the resources in the <a href="https://github.com/SethClydesdale/genki-study-resources#resources-for-studying-japanese">readme</a> on GitHub.'},{content:'Want to stay up to date on the latest changes made to Genki Study Resources? You can follow updates via <a href="https://github.com/SethClydesdale/genki-study-resources/commits/master">GitHub</a>, <a href="https://twitter.com/search?q=(%23GenkiStudyResources)%20(from%3Asethc1995)&src=typed_query&f=live">Twitter</a>, or <a href="https://ko-fi.com/sethc95/posts">Ko-fi</a>. Feel free to also contact us on <a href="https://github.com/SethClydesdale/genki-study-resources/discussions">the forum</a> if you have any questions or feedback.'},{content:'Have a question about the site? Check out the <a href="'+getPaths()+"help/\">FAQ</a>! If you can't find an answer to your question, feel free to contact us via <a href=\"https://github.com/SethClydesdale/genki-study-resources/issues\">GitHub's issues</a> and we'll try to answer your question in a timely manner."},{content:'Find a bug or mistake on the site? Want to submit a suggestion or give us feedback? Check out the <a href="'+getPaths()+"report/\">report page</a> for more information. We'd love to hear from you!"},{content:"Don't have a network connection all the time? Genki Study Resources can be used offline as well! Head on over to the <a href=\""+getPaths()+'download/">download page</a> to get the latest release.'},{content:'If you found this tool helpful for studying with Genki, please consider making <a href="'+getPaths()+'donate/">a donation</a> to help support my work. Thank you!'}],index:0,list:t.getElementById("announce-list"),next:function(t,n){GenkiAnn.msg[GenkiAnn.index].className+=" announce-hidden","number"==typeof t?(GenkiAnn.index+=t,-1==GenkiAnn.index&&(GenkiAnn.index=GenkiAnn.msg.length-1)):GenkiAnn.index++,GenkiAnn.msg[GenkiAnn.index]||(GenkiAnn.index=0),GenkiAnn.msg[GenkiAnn.index].className=GenkiAnn.msg[GenkiAnn.index].className.replace(" announce-hidden",""),GenkiAnn.rotation&&n&&(e.clearInterval(GenkiAnn.rotator),GenkiAnn.rotate())},rotate:function(){GenkiAnn.rotator=e.setInterval(GenkiAnn.next,15e3)},init:function(){if(GenkiAnn.msg.length>1){t.getElementById("announcement-controls").style.display="";for(var n=0,o=GenkiAnn.msg.length,a="",i=!0;n<o;n++)GenkiAnn.msg[n].edition&&GenkiAnn.msg[n].edition.toLowerCase()!=GenkiAnn.edition||(a+='<div class="announcement'+(i?"":" announce-hidden")+'">'+(GenkiAnn.msg[n].date?'<span class="date">'+GenkiAnn.msg[n].date+"</span>":"")+GenkiAnn.msg[n].content+"</div>",i&&(i=!1));GenkiAnn.list.insertAdjacentHTML("beforeend",a),GenkiAnn.msg=t.querySelectorAll(".announcement"),GenkiAnn.rotation&&GenkiAnn.rotate()}if("file:"!=e.location.protocol){var r=function(e){storageOK&&(localStorage.twitchLiveState=e,localStorage.twitchLiveState_exp=+new Date)},s=function(){t.querySelector(".announcement:not(.announce-hidden)").className+=" announce-hidden",GenkiAnn.list.insertAdjacentHTML("afterBegin",'<div class="announcement"><span class="date"><span class="t-red" style="margin-right:1px;">●</span>LIVE</span>Come hang out and watch the development progress of Quartet Study Resources on <a href="https://www.twitch.tv/sethc95" target="_blank">Twitch</a>.</div>'),GenkiAnn.msg=t.querySelectorAll(".announcement")};storageOK&&localStorage.twitchLiveState&&localStorage.twitchLiveState_exp>+new Date-18e5?"online"==localStorage.twitchLiveState&&s():e.addEventListener("load",function(){var e=t.createElement("SCRIPT"),n=t.createElement("DIV");n.id="stream",n.style.display="none",e.src="https://player.twitch.tv/js/embed/v1.js",e.async=!0,e.onload=function(){var e=new Twitch.Embed("stream",{width:300,height:300,channel:"sethc95",parent:["sethclydesdale.github.io"],muted:!0,autoplay:!1});e.addEventListener(Twitch.Player.OFFLINE,function(){n.querySelector("iframe").src="about:blank",t.body.removeChild(n),r("offline")}),e.addEventListener(Twitch.Player.ONLINE,function(){n.querySelector("iframe").src="about:blank",t.body.removeChild(n),s(),r("online")})},t.head.appendChild(e),t.body.appendChild(n)})}}};var n=new Date,o=n.getMonth()+1,a=n.getDate();if(12==o&&25==a){GenkiAnn.msg.splice(0,0,{content:"<ruby>今日<rt>きょう</rt></ruby>はクリスマスだよ。メリークリスマス！"});var i=t.getElementById("announcement");i.style.position="relative",i.style.paddingBottom="25px",i.style.marginBottom="75px",i.insertAdjacentHTML("beforeend",'<div id="holiday-deco" style="height:100px;width:100%;position:absolute;left:0;bottom:-70px;background-image:url(\''+getPaths()+"resources/images/holiday/xmas.png');background-size:auto 100%;pointer-events:none;\"></div>")}else 10==o&&31==a?(GenkiAnn.msg.splice(0,0,{content:"ハッピーハロウィン！お<ruby>菓子<rt>かし</rt></ruby>をくれないとイタズラしちゃうぞ！"}),e._scrollSpider={config:{side:"right",offset:"0px",tooltip:"Squash..?",image:getPaths()+"/resources/images/holiday/halloween.png",web:"background-color:#000;width:2px;height:999em;position:absolute;right:42%;bottom:95%;"},move:function(){_scrollSpider.spider.style.top=(t.body.scrollTop+t.documentElement.scrollTop)/(t.documentElement.scrollHeight-t.documentElement.clientHeight)*100+"%"},goingUp:!1,toTop:function(){if(!_scrollSpider.goingUp&&(t.body.scrollTop||t.documentElement.scrollTop)){var n=t.body.scrollTop?t.body:t.documentElement;_scrollSpider.goingUp=!0,_scrollSpider.scroll={top:n.scrollTop,body:n,by:(t.documentElement.scrollHeight-t.documentElement.clientHeight)/100,window:e.setInterval(function(){_scrollSpider.scroll.top>0?(_scrollSpider.scroll.body.scrollTop=_scrollSpider.scroll.top-=_scrollSpider.scroll.by,_scrollSpider.move()):(e.clearInterval(_scrollSpider.scroll.window),_scrollSpider.goingUp=!1)},10)}}},applyOffset:function(){var t=_scrollSpider.spider.getElementsByTagName("IMG")[0];t&&t.complete?(_scrollSpider.spider.style.marginTop="-"+t.height+"px",_scrollSpider.spider.style.display=""):e.addEventListener("load",_scrollSpider.applyOffset)},init:function(){var n=t.createElement("DIV");n.id="scrollSpider",n.innerHTML='<div style="'+_scrollSpider.config.web+'"></div><img src="'+_scrollSpider.config.image+'" onclick="_scrollSpider.toTop();" style="cursor:pointer;" title="'+_scrollSpider.config.tooltip+'">',n.style.position="fixed",n.style[/left|right/i.test(_scrollSpider.config.side)?_scrollSpider.config.side:"right"]=_scrollSpider.config.offset,n.style.top="0%",n.style.display="none",t.body.appendChild(n),_scrollSpider.spider=n,_scrollSpider.move(),_scrollSpider.applyOffset(),e.addEventListener("scroll",_scrollSpider.move)}},t.addEventListener("DOMContentLoaded",_scrollSpider.init)):1==o&&1==a&&GenkiAnn.msg.splice(0,0,{content:"<ruby>皆<rt>みな</rt></ruby>さん、あけましておめでとうございます！<ruby>今年<rt>ことし</rt></ruby>も<ruby>頑張<rt>がんば</rt></ruby>りましょう！"});GenkiAnn.init()}if("file:"==e.location.protocol)for(var r=t.getElementsByTagName("A"),s=0,l=r.length;s<l;s++)/http/.test(r[s].href)||(/\/$/.test(r[s].href)?r[s].href+="index.html":/\/#.*?$/.test(r[s].href)?r[s].href=r[s].href.replace(/(#.*?)$/,"index.html$1"):/\/\?.*?$/.test(r[s].href)&&(r[s].href=r[s].href.replace(/(\?.*?)$/,"index.html$1")));var c=t.getElementById("content").querySelectorAll("h1, h2, h3, h4, h5, h6");for(s=0,l=c.length;s<l;s++)c[s].id&&c[s].insertAdjacentHTML("afterbegin",'<a href="#'+c[s].id+'" class="anchor fa"><span class="anchor-icon">&#xf0c1;</span></a>');if(storageOK){var d=t.querySelector("footer"),h=t.createElement("LABEL"),u=t.createElement("DIV"),p=t.createElement("A");h.id="light-switch",h.tabIndex=0,h.innerHTML='<input id="light-switch-checkbox" type="checkbox" '+("on"==localStorage.darkMode?'checked="true"':"")+"/><div></div>",h.onkeyup=function(e){"Enter"==e.key&&this.firstChild.click()},h.firstChild.onchange=function(){var n,o=t.documentElement;if(this.checked?(localStorage.darkMode="on",(n=t.createElement("LINK")).id="dark-mode",n.rel="stylesheet",n.href=getPaths()+"resources/css/stylesheet-dark.min.css",t.head.appendChild(n),o.className+=" dark-mode"):(localStorage.darkMode="off",(n=t.getElementById("dark-mode"))&&t.head.removeChild(n),o.className=o.className.replace(" dark-mode","")),e.KanjiCanvas){KanjiCanvas.darkMode=!!t.querySelector(".dark-mode"),KanjiCanvas.quizOver=!!t.querySelector(".quiz-over");for(var a=t.querySelectorAll(".kanji-canvas"),i=0,r=a.length;i<r;i++)KanjiCanvas["canvas_"+a[i].id]&&KanjiCanvas.redraw(a[i].id,!0,!!e.Genki&&Genki.strokeNumberDisplay)}},u.id="light-switch-container",u.innerHTML='<label id="light-switch-label" for="light-switch-checkbox"><span class="en">Dark Mode</span><span class="ja">ダークモード</span> </label>',p.id="genki-site-settings",p.innerHTML='<i class="fa">&#xf013;</i>',p.title="ja"==GenkiLang?"ウェブサイトの設定":"Site Settings",p.href="#",p.onclick=function(){return!t.getElementById("genki-modal")&&(GenkiSettings.manager(),!1)},u.appendChild(h),u.appendChild(p),d.appendChild(u)}else{d=t.querySelector("footer");(u=t.createElement("DIV")).id="light-switch-container",u.innerHTML='<a href="'+getPaths()+"help/stuck-loading/"+("file:"==e.location.protocol?"index.html":"")+'"><strong><span class="en">Where is Dark Mode?</span><span class="ja">ダークモードはどこ？</span></strong></a>',d.appendChild(u)}t.addEventListener("keydown",function(e){if(e.ctrlKey&&e.altKey||e.metaKey&&e.shiftKey){var n;switch(e.key.toLowerCase()){case"left":case"arrowleft":n=t.querySelector(".prev-ex");break;case"right":case"arrowright":n=t.querySelector(".next-ex");break;case"e":n=t.getElementById("toggle-exercises");break;case"q":n=t.getElementById("quick-jisho-toggle");break;case"d":n=t.getElementById("light-switch");break;case"f":n=t.getElementById("toggle-furigana");break;case"r":n=t.getElementById("random-exercise");break;case"m":n=t.getElementById("genki-site-settings");break;case"c":n=t.getElementById("check-answers-button");break;case"l":GenkiSettings.updateLang(null,"ja"==GenkiLang?"en":"ja")}n&&(e.preventDefault(),n.click())}if("multi"==Genki.active.type&&e.altKey){var o=e.code.replace("Key","").toUpperCase(),a=t.querySelector("#quiz-q"+Genki.stats.solved+' div[data-option="'+o+'"]');a&&(a.click(),e.preventDefault())}})}(window,document);